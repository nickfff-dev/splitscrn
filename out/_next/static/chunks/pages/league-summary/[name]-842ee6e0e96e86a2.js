(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{8571:function(s,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/league-summary/[name]",function(){return t(4744)}])},4744:function(s,e,t){"use strict";t.r(e),t.d(e,{__N_SSP:function(){return d},default:function(){return x}});var a=t(5893),n=t(7131),l=t.n(n),r=t(7294),c=t(3401);let i=s=>{let{league:e,participant:t,wallets:n,position:i,fixtures:o}=s,[m,u]=(0,r.useState)(!1),[d,x]=(0,r.useState)([]),h=()=>{u(!1)},p=()=>{try{let s=fetch("http://localhost:3000/api/populate-fantasy/".concat(e.name,"/"),{method:"POST",body:JSON.stringify({fantasyname:t.fantasyname})}).then(s=>s.json().then(s=>JSON.parse(s)));return s}catch(a){console.log(a)}},N=()=>{var s;null===(s=p())||void 0===s||s.then(s=>{x(s)})};return(0,r.useEffect)(()=>{N(),console.log(d)},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"".concat(l().resultsRow," h-10"),children:[(0,a.jsx)("span",{className:"text-sm",children:i}),"  ",(0,a.jsx)("span",{className:"text-sm",children:t.fantasyname})," ",(0,a.jsx)("span",{className:"text-sm",children:t.points})," ",(0,a.jsxs)("span",{className:"text-sm",children:["$",n.filter(s=>s.userId===t.userId).map(s=>Intl.NumberFormat("en-US").format(s.credits))]})," ",(0,a.jsx)("button",{onClick(){u(!m)},className:"outline outline-1 outline-[#ff921b] px-3 text-sm text-sm rounded-xl capitalize bg-gray-dark",children:"View"})]}),m?(0,a.jsx)(c.Z,{league:e,participant:t,results:d,fixtures:o,closeModal:h}):null]})},o=s=>{let{trade:e,owner:t}=s;return(0,a.jsxs)("div",{className:"".concat(l().resultsRow," h-10 "),children:[(0,a.jsx)("span",{className:"text-sm",children:e.playerOut.split(" ")[0]}),"  ",(0,a.jsx)("span",{className:"text-sm",children:e.playerIn.split(" ")[0]})," ",(0,a.jsxs)("span",{className:"text-sm",children:["$",Intl.NumberFormat("en-US").format(1e4)]})," ",(0,a.jsx)("span",{className:"text-sm",children:"$500,000"}),(0,a.jsx)("span",{className:"text-sm",children:t})," "]})},m=s=>{let{league:e,wallets:t,trades:n,members:r,fixtures:c}=s;return(0,a.jsxs)("div",{className:"".concat(l().outerGrid),children:[(0,a.jsxs)("div",{className:"".concat(l().root),children:[(0,a.jsx)("h1",{className:" font-bold text-3xl uppercase",children:"Player standings"}),(0,a.jsxs)("div",{className:"".concat((l().root,l().resultsContainer)," h-[300px]  [&>*:nth-child(odd):not(:first-child)]:bg-gray-medium [&>*:nth-child(even)]:bg-gray-light overflow-y-scroll"),children:[(0,a.jsxs)("div",{className:"".concat(l().resultsRow1,"  font-semibold"),children:["  ",(0,a.jsx)("span",{className:"text-sm",children:"STANDING"}),"  ",(0,a.jsx)("span",{className:"text-sm",children:"OWNER"})," ",(0,a.jsx)("span",{className:"text-sm",children:"SCORE"})," ",(0,a.jsx)("span",{className:"text-sm",children:"BANK"})," ",(0,a.jsx)("button",{className:"invisible outline outline-[#ff921b] text-sm rounded-xl",children:"View"})," "]}),e.members.sort((s,e)=>e.points-s.points).map((s,n)=>(0,a.jsx)(i,{fixtures:c,league:e,participant:s,wallets:t,position:n+1},s.id))]})]}),(0,a.jsxs)("div",{className:"".concat(l().root),children:[(0,a.jsx)("h1",{className:"bigh font-bold text-3xl uppercase",children:"Recent Trades"}),(0,a.jsxs)("div",{className:"".concat(l().resultsRow1,"  font-semibold"),children:["  ",(0,a.jsx)("span",{className:"text-sm",children:"PLAYER RELEASED"}),"  ",(0,a.jsx)("span",{className:"text-sm",children:"PLAYER ACQUIRED"})," ",(0,a.jsx)("span",{className:"text-sm",children:"CASH RELEASED"})," ",(0,a.jsx)("span",{className:"text-sm",children:"CASH ACQUIRED"})," ",(0,a.jsx)("span",{className:"text-sm",children:"OWNER"})," "]}),(0,a.jsx)("div",{className:"".concat((l().root,l().resultsContainer)," h-[300px] overflow-y-scroll [&>*:nth-child(odd)]:bg-gray-medium [&>*:nth-child(even)]:bg-gray-light"),children:e.members.map(s=>n.filter(e=>e.participantId=s.id).map(e=>(0,a.jsx)(o,{trade:e,owner:s.username},e.id)))})]})]})},u=s=>{let{league:e,wallets:t,trades:n,fixtures:l,members:r}=s;return(0,a.jsx)(m,{league:e,wallets:t,trades:n,members:r,fixtures:l})};var d=!0,x=u},7131:function(s){s.exports={root:"Leaguesummary_root__9DTUG",resultsContainer:"Leaguesummary_resultsContainer__nuolr",resultsRow:"Leaguesummary_resultsRow__89r93",resultsRow1:"Leaguesummary_resultsRow1__C3SkF",container:"Leaguesummary_container__xXkoQ",h1:"Leaguesummary_h1__pyiTz",outerGrid:"Leaguesummary_outerGrid__PesLB"}}},function(s){s.O(0,[401,774,888,179],function(){return s(s.s=8571)}),_N_E=s.O()}]);